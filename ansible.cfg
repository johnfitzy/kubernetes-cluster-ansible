# Don't install roles /collections globally
[defaults]
roles_path = ./roles
collections_paths = ./collections
host_key_checking = False
remote_user = vagrant
deprecation_warnings = False
# Cache facts so subsequent runs skip re-gathering (1hr TTL)
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 3600
# Run tasks across hosts in parallel
forks = 10

[ssh_connection]
# Pipelining sends module code over stdin instead of SCP â€” big speedup
pipelining = True
# Reuse SSH connections across tasks; /tmp avoids issues with read-only mounts in devcontainer
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ControlPath=/tmp/ansible-ssh-%h-%p-%r -o ConnectTimeout=10
